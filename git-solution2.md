# gitコマンド集その2

## ブランチ間で特定のコミットをマージしたいが、全部はマージしたくない場合

ブランチでの一部のコミット（変更）を別ブランチに取り込むことでやりたいことを実現できます。（`git merge`では、実現できない。）

1. 変更をとり込みたいブランチに移動

```bash
git checkout [変更を取り込みたいブランチ]
```

 2. 変更したブランチのコミットを取り込む

```bash
git cherry-pick [取り込みたいコミットID]
```

## コミットメッセージを変更したい時

- 直近のコミットメッセージの変更

 ```bash
 git commit --amend -m "変更したいメッセージ"
 ```

## git logでコミット番号とメッセージだけで良い時（コミット履歴が見やすくなる）

```bash
git log --oneline
```

## ローカルでこまめにコミットしていた変更をまとめて一つのコミットとしてプッシュしたい時

1. コミットをまとめる範囲を指定して、interactiveモードでリベースする

```bash
git rebase -i HEAD~3
```

2. エディタで表示される内容を確認し、まとめるコミットを squash に変更

```bash
pick ijkl789 3個目のコミット
pick efgh456 2個目のコミット
pick abcd123 最初のコミット
```

上記から下記のように変更

```bash
pick ijkl789 3個目のコミット
squash efgh456 2個目のコミット
squash abcd123 最初のコミット
```

3. 開かれるエディタ(vimなど)で最上部にコミットメッセージを書いて、保存

## リベースを中断する

リベース中にコンフリクト（競合）が発生した時などに使用するとリベースを完全に中止し、開始前の状態に戻ることができる。

```bash
git rebase --abort
```
